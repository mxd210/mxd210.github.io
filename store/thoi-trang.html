<!-- REPLACE WHOLE FILE: /store/thoi-trang.html -->
<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Thời trang | MXD</title>
  <meta name="description" content="Danh mục Thời trang của MXD: từ công sở đến bảo hộ lao động, nam/nữ/trẻ em và mùa hè–thu–đông. Chọn đúng chất liệu, form dáng, phối đồ theo khí hậu Việt Nam."/>
  <link rel="canonical" href="https://mxd210.github.io/store/thoi-trang.html"/>
  <meta name="robots" content="index,follow"/>

  <!-- SEO: OG -->
  <meta property="og:type" content="website"/>
  <meta property="og:title" content="Thời trang | MXD"/>
  <meta property="og:description" content="Danh mục thời trang tổng hợp: công sở, basic hằng ngày, bảo hộ, thể thao; gợi ý chất liệu, form, size & bảo quản."/>
  <meta property="og:url" content="https://mxd210.github.io/store/thoi-trang.html"/>
  <meta property="og:image" content="https://mxd210.github.io/assets/img/categories/thoi-trang.webp"/>

  <!-- CSS cố định -->
  <link rel="stylesheet" href="/assets/site.css"/>

  <!-- GA4 TRƯỚC affiliate (chuẩn MXD) -->
  <script defer src="/assets/analytics.js"></script>
  <script defer src="/assets/mxd-affiliate.js"></script>
</head>
<body>
  <nav class="breadcrumb"><a href="/">Trang chủ</a> › <a href="/store.html">Cửa hàng</a> › Thời trang</nav>
  <h1>Thời trang</h1>

  <!-- MXD-ANCHOR:CATEGORY-INTRO -->
  <section class="category-intro">
    <p>Thời trang ở MXD không chạy theo “mốt một mùa”, mà xoay quanh ba tiêu chí bền–chuẩn–dễ phối. Từ trang phục công sở gọn gàng, basic hằng ngày đến đồ bảo hộ cho công trường và set thể thao đi mưa nắng, mọi sản phẩm đều được chọn theo khí hậu nóng ẩm Việt Nam: thấm hút, nhanh khô, ít nhăn; form dễ layer khi di chuyển giữa phòng điều hòa và ngoài trời. Với mỗi nhóm, MXD ghi rõ chất liệu, form (ôm–vừa–rộng), bảng size theo số đo cơ thể, và gợi ý phụ kiện đi kèm để bạn “mặc nhanh mà vẫn đúng”.</p>
    <p><strong>Chất liệu & hiệu năng:</strong> Cotton compact và cotton–spandex đem lại thoáng, giãn nhẹ cho ngày dài; linen pha phù hợp cuối tuần, càng nhăn càng đẹp; polyester tái chế/dry–fit cho vận động; nylon ripstop chống sờn rách khi đi công trình; denim giữ phom và lên màu theo thời gian. Ở nhóm bảo hộ, ưu tiên dải phản quang, vải chống UV, mũ/giày đạt chuẩn; nhóm thu–đông chọn nỉ, fleece, hoặc áo gió chống nước nhẹ để chống mưa rào.</p>
    <p><strong>Form dáng & phối đồ:</strong> Quy tắc “ôm–vừa–rộng”: áo trong ôm gọn, lớp ngoài vừa, outer rộng hơn nửa size giúp thông thoáng và dễ cử động. Bộ màu “capsule” ưu tiên đen, navy, xám, be; điểm nhấn trắng, olive, camel. Chỉ với 12 món nền tảng, bạn có thể tạo 30+ phối cho tuần làm việc, cuối tuần và công tác ngắn ngày.</p>
    <p><strong>Size & bảo quản:</strong> Đo bằng thước mềm: vòng ngực (điểm đầy), eo (nhỏ nhất), mông (lớn nhất); so với bảng size từng sản phẩm. Giặt nhẹ ≤30°C, lộn trái đồ in/đồ tối, phơi râm; denim/len nên giặt ít, dùng bàn chải mềm. Đồ thể thao phơi nhanh để tránh ám mùi; đồ công trường vệ sinh bụi–xi măng sau mỗi ca để kéo dài tuổi thọ.</p>
    <ul class="bullets">
      <li><strong>Đi làm:</strong> sơ mi oxford/áo polo + quần chino, thêm áo gió mỏng cho di chuyển.</li>
      <li><strong>Đi công trình:</strong> áo phản quang, quần túi hộp nylon ripstop, giày mũi thép; mũ bảo hộ đạt chuẩn.</li>
      <li><strong>Cuối tuần/di chuyển:</strong> tee cotton–spandex, quần jogger, áo khoác chống nắng, mũ lưỡi trai.</li>
    </ul>
  </section>

  <!-- MXD-ANCHOR:CATEGORY-STORY -->
  <aside class="category-story">
    <h2>Câu chuyện: một ngày “hai nửa”</h2>
    <p>Buổi sáng họp khách sạn 20°, bạn chọn sơ mi oxford xanh nhạt, quần chino be, giày loafers. 10 giờ, điện thoại reo: cần ghé công trình kiểm tra hạng mục ngoài trời. Bạn chỉ việc khoác thêm áo gió chống nước nhẹ, đổi sang giày bảo hộ để “switch mode” trong 30 giây. Chiều trở về văn phòng, tháo áo gió, thêm cà vạt dệt kim; set đồ đầu vẫn thẳng nếp. Bí mật không nằm ở “nhiều quần áo” mà là <em>chọn đúng chất liệu và chuẩn bị lớp áo ngoài hợp cảnh</em>. Đây là triết lý MXD: quần áo làm việc cùng bạn, không làm bạn chậm lại.</p>
  </aside>

  <!-- MXD-ANCHOR:CATEGORY-FIELDS -->
  <section class="category-fields">
    <h2>Trường đặc biệt</h2>
    <dl>
      <dt>Intent chính</dt><dd>Công sở · Basic hằng ngày · Bảo hộ lao động · Thể thao · Phụ kiện</dd>
      <dt>Khí hậu</dt><dd>Nhiệt đới nóng ẩm; ưu tiên thấm hút, nhanh khô, chống nắng mưa thất thường.</dd>
      <dt>Chất liệu khuyến nghị</dt><dd>Cotton compact, cotton–spandex, linen pha, polyester (dry–fit), denim, nylon ripstop.</dd>
      <dt>Ghi chú form</dt><dd>Ôm–vừa–rộng để dễ layer; vai/chiều dài tay đúng khung người giúp tổng thể gọn gàng.</dd>
      <dt>Hướng dẫn đo size</dt><dd>Ngực–Eo–Mông bằng thước mềm; so với bảng size sản phẩm, ưu tiên vừa người khi đi làm.</dd>
      <dt>Bảo quản</dt><dd>Giặt nhẹ ≤30°C, lộn trái đồ in, phơi râm; denim/len giặt ít; đồ thể thao phơi ngay sau vận động.</dd>
      <dt>An toàn bảo hộ</dt><dd>Phản quang ≥2cm, chống UV; mũ/giày đạt chuẩn EN/TCVN cho môi trường rủi ro.</dd>
      <dt>Capsule màu</dt><dd>Nền đen–navy–xám–be; điểm nhấn trắng–olive–camel (12 món → 30+ phối).</dd>
      <dt>Mùa vụ</dt><dd>Hè: dry–fit/linen; Thu–đông: nỉ/fleece/áo gió chống nước nhẹ.</dd>
    </dl>
  </section>

  <div class="filter-row" data-subnav="thoi-trang">
    <a class="btn" href="/store/thoi-trang.html">Tất cả</a>
    <a class="btn" href="/store/thoi-trang-nam.html">Thời trang nam</a>
    <a class="btn" href="/store/thoi-trang-nu.html">Thời trang nữ</a>
    <a class="btn" href="/store/tre-em.html">Trẻ em</a>
    <a class="btn" href="/store/thoi-trang-thu-dong.html">Thu đông</a>
  </div>

  <!-- Lưới sản phẩm -->
  <section id="product-grid"
           class="product-grid"
           data-category="thoi-trang"
           data-alias="thoi-trang,thoi-trang-nam,thoi-trang-nu,tre-em,thoi-trang-thu-dong">
  </section>

  <!-- MXD-ANCHOR:FAQ-BLOCK -->
  <section class="category-faq">
    <h2>Hỏi nhanh – đáp gọn</h2>
    <details>
      <summary>Mặc công sở mà vẫn di chuyển công trình được không?</summary>
      <p>Được, nếu bạn chọn lớp ngoài trung tính (áo gió chống nước nhẹ) và giày bảo hộ thay nhanh. Bên trong giữ set sơ mi + chino để trở lại họp khi cần.</p>
    </details>
    <details>
      <summary>Linen có nóng không?</summary>
      <p>Linen pha (cotton/viscose) mát, thoáng, phù hợp di chuyển ngày hè; chấp nhận nếp nhăn tự nhiên, càng mặc càng “đẹp chất”.</p>
    </details>
    <details>
      <summary>Chọn size thế nào để không bị trả hàng?</summary>
      <p>Đo Ngực–Eo–Mông bằng thước mềm, so bảng size từng sản phẩm. Nếu đang giữa hai size: đồ công sở chọn nhỏ hơn nửa size cho phom gọn; đồ thể thao chọn lớn hơn nửa size để thoải mái.</p>
    </details>
  </section>

  <footer class="page-foot">© MXD · <a href="/chinh-sach/bao-mat.html">Bảo mật</a> · <a href="/chinh-sach/doi-tra.html">Đổi trả</a> · <a href="/chinh-sach/bao-hanh.html">Bảo hành</a></footer>

  <!-- MXD-ANCHOR:SUBNAV-ACTIVE -->
  <script>
  (function mxdSubnavActive(){
    try{
      const here = new URL(location.href);
      document.querySelectorAll('.filter-row a.btn').forEach(a=>{
        try{
          const u = new URL(a.getAttribute('href'), location.origin);
          if (u.pathname === here.pathname){
            a.classList.add('is-active'); a.setAttribute('aria-current','page');
          } else {
            a.classList.remove('is-active'); a.removeAttribute('aria-current');
          }
        }catch(_){}
      });
    }catch(_){}
  })();
  </script>

  <!-- MXD-ANCHOR:CATEGORY-FIELDS-JSON (máy đọc dữ liệu nội bộ nếu cần) -->
  <script type="application/json" id="mxd-category-fields">
  {
    "slug": "thoi-trang",
    "primary_intents": ["công sở","basic hằng ngày","bảo hộ lao động","thể thao","phụ kiện"],
    "climate": "nhiệt đới nóng ẩm; ưu tiên thấm hút, nhanh khô, dễ layer",
    "materials": ["cotton compact","cotton-spandex","linen pha","polyester (dry-fit)","denim","nylon ripstop"],
    "fit_notes": "ôm–vừa–rộng; chọn theo số đo Ngực–Eo–Mông; lớp ngoài rộng nửa size để thoáng",
    "size_guide": "Đo bằng thước mềm và so với bảng size sản phẩm; giữa 2 size: công sở chọn nhỏ, thể thao chọn lớn",
    "care": "Giặt nhẹ ≤30°C, lộn trái đồ in, phơi râm; denim/len giặt ít; đồ thể thao phơi ngay",
    "safety": "Phản quang ≥2cm, chống UV; mũ/giày đạt chuẩn EN/TCVN nếu vào khu vực rủi ro",
    "capsule": "Đen–navy–xám–be (nền) + trắng–olive–camel (nhấn); 12 món → 30+ phối",
    "seasonal": "Hè: dry–fit/linen; Thu–đông: nỉ/fleece/áo gió chống nước nhẹ"
  }
  </script>

  <!-- Loader MXD: affiliates.json → products.json → /affiliates.json ; hỗ trợ dạng {items:[...]} -->
  <!-- MXD-ANCHOR:THOI-TRANG-FILTER -->
  <script>
  (async function renderMXD(){
    const grid = document.getElementById('product-grid');
    const cat = (grid.getAttribute('data-category')||'').trim().toLowerCase();
    const aliases = (grid.getAttribute('data-alias')||'')
      .split(',').map(s=>s.trim().toLowerCase()).filter(Boolean);
    const ALIASES = new Set([cat, ...aliases]);

    const sources = ['/assets/data/affiliates.json','/products.json','/affiliates.json'];

    async function loadFirst(urls){
      for (const src of urls){
        try{
          const r = await fetch(src, { cache:'no-store' });
          if (!r.ok) continue;
          const json = await r.json();
          if (Array.isArray(json)) return json;
          if (json && Array.isArray(json.items)) return json.items;
        }catch(e){ /* thử nguồn tiếp theo */ }
      }
      return null;
    }

    const data = await loadFirst(sources);
    if (!Array.isArray(data)){
      grid.innerHTML = `<p class="muted">Không tải được dữ liệu sản phẩm (đã thử ${sources.join(' → ')}).</p>`;
      return;
    }

    // ===== Bộ lọc mở rộng (an toàn, không phá dữ liệu cũ) =====
    const norm = v => String(v||'').toLowerCase().trim();
    const split = v => norm(v).split(/[,\s/|>]+/).filter(Boolean);
    const toSlug = v => norm(v).replace(/[^a-z0-9\-]+/g,'-').replace(/--+/g,'-');

    function labelsOf(p){
      const labels = [];
      // 1) Trường đơn
      labels.push(...split(p.cat||p.category||p.section||''));
      // 2) Mảng chuẩn
      const m1 = Array.isArray(p.cats)? p.cats : (Array.isArray(p.categories)? p.categories : []);
      labels.push(...m1.flatMap(split));
      // 3) tags
      if (Array.isArray(p.tags)) labels.push(...p.tags.flatMap(split));
      // Chuẩn hóa slug
      return Array.from(new Set(labels.map(toSlug).filter(Boolean)));
    }

    const isLive = p => p && p.status !== false && p.status !== 'archived';

    function inCat(p){
      const labels = labelsOf(p);
      if (!labels.length) return false;
      // Match chặt: trùng alias
      if (labels.some(l => ALIASES.has(l))) return true;
      // Match rộng: alias & label bắt đầu bằng nhau (thoi-trang bao trùm thoi-trang-nu/nam/thu-dong)
      for (const a of ALIASES){
        if (labels.some(l => l.startsWith(a) || a.startsWith(l))) return true;
      }
      return false;
    }

    const items = data.filter(p => isLive(p) && inCat(p));

    if (!items.length){
      grid.innerHTML = `<p class="muted">Chưa có sản phẩm cho danh mục này. Hãy nạp dữ liệu vào <code>/assets/data/affiliates.json</code>.</p>`;
      return;
    }

    const fmt   = n => (n!=null && isFinite(+n)) ? new Intl.NumberFormat('vi-VN').format(+n)+'₫' : '';
    const esc   = s => String(s||'').replace(/[&<>"']/g, c=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[c]));
    const href  = p => p.deeplink || p.origin_url || p.origin || p.url || '#';
    const imgOf = p => {
      const sku = (p.sku||'').toLowerCase();
      return p.image || (sku ? `/assets/img/products/${sku}.webp` : '/assets/img/products/placeholder.webp`);
    };

    grid.innerHTML = items.map(p=>{
      const sku   = (p.sku||'').toLowerCase();
      const name  = p.name || sku || 'Sản phẩm';
      const img   = imgOf(p);
      const price = fmt(p.price);
      const merchant = (p.merchant||'').toLowerCase();
      const link  = href(p);
      // Nếu link không hợp lệ, đánh dấu để ẩn/audit
      const broken = !/^https?:\/\//.test(link);
      return `
        <article class="product-card" data-sku="${esc(sku)}" ${broken?'data-broken="link"':''}>
          <a class="thumb" href="/g.html?sku=${encodeURIComponent(sku)}">
            <img loading="lazy" src="${esc(img)}" alt="${esc(name)} — MXD" width="320" height="320"
                 onerror="this.onerror=null;this.dataset.err=1;this.src='/assets/img/products/placeholder.webp';this.closest('article').setAttribute('data-img-missing','1')">
          </a>
          <h3 class="name"><a href="/g.html?sku=${encodeURIComponent(sku)}">${esc(name)}</a></h3>
          ${price?`<div class="price">${price}</div>`:''}
          <div class="actions">
            <a class="buy buy-btn" href="${esc(link)}" data-merchant="${esc(merchant)}"
               target="_blank" rel="nofollow sponsored noopener">Mua ngay</a>
          </div>
        </article>`;
    }).join('');

    // Ẩn card hỏng cơ bản (link không hợp lệ hoặc ảnh không có)
    grid.querySelectorAll('article.product-card[data-broken], article.product-card[data-img-missing="1"]').forEach(el=>{
      el.style.display = 'none';
    });

    // Gọi rewrite affiliate nếu có
    if (window.mxdAffiliate?.scan) window.mxdAffiliate.scan();

    // Tùy chọn: Audit 404 qua Worker (nếu có endpoint); không có thì bỏ qua
    try{
      const itemsForAudit = Array.from(grid.querySelectorAll('article.product-card'))
        .map(el=>{
          const sku = el.getAttribute('data-sku')||'';
          const a = el.querySelector('.buy');
          return { sku, url: a ? a.getAttribute('href') : '' };
        }).filter(x=>/^https?:\/\//.test(x.url));
      if (itemsForAudit.length){
        const r = await fetch('/ops/audit-links', {
          method:'POST',
          headers:{'content-type':'application/json'},
          body: JSON.stringify({ items: itemsForAudit, src: location.pathname })
        });
        if (r.ok){
          const rep = await r.json();
          if (rep && Array.isArray(rep.broken)){
            const bad = new Set(rep.broken.map(x=>String(x).toLowerCase()));
            grid.querySelectorAll('article.product-card').forEach(el=>{
              const sku = (el.getAttribute('data-sku')||'').toLowerCase();
              if (bad.has(sku)) el.style.display='none';
            });
          }
        }
      }
    }catch(_){ /* im lặng, không chặn render */ }
  })();
  </script>

  <!-- FAQPage JSON-LD cho SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity":[
      {
        "@type":"Question",
        "name":"Mặc công sở mà vẫn di chuyển công trình được không?",
        "acceptedAnswer":{"@type":"Answer","text":"Được, nếu chọn lớp ngoài trung tính (áo gió chống nước nhẹ) và giày bảo hộ thay nhanh; bên trong giữ set sơ mi + chino để quay lại họp."}
      },
      {
        "@type":"Question",
        "name":"Linen có nóng không?",
        "acceptedAnswer":{"@type":"Answer","text":"Linen pha (cotton/viscose) mát, thoáng, phù hợp ngày hè; chấp nhận nếp nhăn tự nhiên."}
      },
      {
        "@type":"Question",
        "name":"Chọn size để hạn chế trả hàng?",
        "acceptedAnswer":{"@type":"Answer","text":"Đo Ngực–Eo–Mông bằng thước mềm, so bảng size từng sản phẩm; giữa hai size: công sở chọn nhỏ, thể thao chọn lớn."}
      }
    ]
  }
  </script>
</body>
</html>
