<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/>
  <title>Cửa hàng MXD – Sản phẩm chọn lọc</title>
  <meta name="description" content="Các sản phẩm xây dựng được chọn lọc từ MXD – đúng nhu cầu, đáng đồng tiền.">
  <link rel="canonical" href="https://mxd210.github.io/store.html">
  <meta name="robots" content="index,follow">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Cửa hàng MXD – Sản phẩm chọn lọc">
  <meta property="og:description" content="Các sản phẩm xây dựng được chọn lọc từ MXD – đúng nhu cầu, đáng đồng tiền.">
  <meta property="og:url" content="https://mxd210.github.io/store.html">
  <meta property="og:image" content="https://mxd210.github.io/assets/img/og/store.webp">
  <meta name="google-site-verification" content="84L0tRVs_wNPAyXii38-OaeGi8TyJdMlkZXVIHcnj0o">
  <link rel="stylesheet" href="/assets/site.css">
  <link rel="stylesheet" href="/assets/css/mxd-theme.css?v=2025-10-14">
  <style>
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:24px;margin:16px 0}
    .card{border:1px solid var(--border);border-radius:var(--radius);background:var(--card);overflow:hidden;display:flex;flex-direction:column;box-shadow:var(--shadow-sm)}
    .card img{width:100%;aspect-ratio:1/1;object-fit:cover;background:#f7f7f7;height:auto}
    .card .body{padding:12px}
    .name,.title,.product-title{font-size:16px;line-height:1.35;margin:0 0 6px;color:var(--text);display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;min-height:2.7em}
    .buy{width:100%}
  </style>
  <script defer src="/assets/analytics.js?v=2025-09-26-fb2"></script>
  <script defer src="/assets/mxd-affiliate.js?v=2025-09-26-fb2"></script>
  <script defer src="/assets/js/render-products.js?v=2025-09-26-fb2"></script>
  <script defer src="/assets/js/floating-contact.js?v=2025-09-26-1"></script>
</head>
<body>
  <header style="position:sticky;top:0;z-index:50;background:var(--bg);backdrop-filter:blur(6px)">
    <div class="container" style="display:flex;align-items:center;gap:12px;flex-wrap:wrap;padding:12px 16px;border-bottom:1px solid var(--border)">
      <a href="/" class="brand" style="font-weight:900;font-size:18px;color:var(--text);text-decoration:none">MXD</a>
      <nav class="site-nav nav-strip" style="display:flex;gap:10px;margin-left:auto;flex-wrap:wrap">
        <a href="/" class="nav-link">Trang chủ</a>
        <a href="/store.html" class="nav-link" aria-current="page">Cửa hàng</a>
        <a href="/blog/" class="nav-link">Tin tức</a>
        <a href="/tu-van.html" class="nav-link">Tư vấn</a>
        <a href="/lien-he.html" class="nav-link">Liên hệ</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <!-- ONE‑ROW CATEGORY (Quick‑Nav) -->
    <section aria-label="Danh mục nhanh">
      <ul class="quick-nav chips" id="quick-nav"></ul>
    </section>

    <!-- Kill‑Switch: luôn giữ đúng 1 hàng danh mục (Quick‑Nav), xoá mọi strip/grid khác nếu có ai chèn thêm -->
    <script>
    (function(){
      const keep = document.getElementById('quick-nav');
      if(!keep) return;
      const kill = () => {
        const rows = [...document.querySelectorAll('.category-grid, .categories-strip, .quick-nav')];
        rows.forEach(el => { if (el !== keep && !keep.contains(el)) el.remove(); });
      };
      kill(); new MutationObserver(()=>kill()).observe(document.body,{childList:true,subtree:true});
    })();
    </script>

    <!-- Lưới sản phẩm -->
    <div id="product-list" class="grid" aria-live="polite"></div>
    <p id="empty" class="muted" style="display:none">Chưa có sản phẩm. Hãy thêm <code>/assets/data/affiliates.json</code> hoặc <code>/products.json</code>.</p>
    <noscript>Trang cần JavaScript để hiển thị danh sách sản phẩm.</noscript>
  </main>

  <footer>
    <div class="container">© MXD · <a href="/chinh-sach/bao-mat.html">Bảo mật</a> · <a href="/chinh-sach/doi-tra.html">Đổi trả</a> · <a href="/chinh-sach/bao-hanh.html">Bảo hành</a></div>
  </footer>

  <!-- Quick‑Nav loader (khóa cứng 3 danh mục) + Render sản phẩm -->
  <script>
  window.addEventListener('DOMContentLoaded', () => {
    const qn = document.getElementById('quick-nav');
    (async () => {
      const sources = ['/assets/categories.json', '/assets/data/categories.json'];
      let raw = null;
      for (const url of sources) { try { const r = await fetch(url, { cache: 'no-store' }); if (r.ok) { raw = await r.json(); break; } } catch(_) {} }
      let list = [];
      if (Array.isArray(raw)) list = raw; else if (raw && Array.isArray(raw.categories)) list = raw.categories; else if (raw && typeof raw==='object') list = Object.values(raw);
      const norm = (x={}) => { const slug=(x.slug||'').toLowerCase(); return { slug, name:x.name||x.title||'Danh mục', icon:x.icon||(slug?`/assets/img/categories/${slug}.webp`:'/assets/img/categories/placeholder.webp'), path:x.path||x.canonical||(slug?`/store/${slug}.html`:'#') } };
      const items = list.map(norm);
      const HUBS = new Map([
        ['noi-bat',          { name:'Sản phẩm nổi bật', icon:'/assets/img/categories/noi-bat.webp' }],
        ['may-moc-xay-dung', { name:'Máy móc xây dựng', icon:'/assets/img/categories/may-moc-xay-dung.webp' }],
        ['thoi-trang',       { name:'Thời trang',        icon:'/assets/img/categories/thoi-trang.webp' }]
      ]);
      const hubsOnly = Array.from(HUBS.keys()).map(slug => { const f = items.find(i=>i.slug===slug); return f || { slug, name:HUBS.get(slug).name, icon:HUBS.get(slug).icon, path:`/store/${slug}.html` }; });
      qn.innerHTML = hubsOnly.map(c=>`<li><a href="${c.path}" class="qnav-item chip chip--brand"><img src="${c.icon}" alt="${c.name} — MXD" width="28" height="28" loading="lazy" decoding="async">${c.name}</a></li>`).join('');
    })();

    // Render sản phẩm
    const qs = new URLSearchParams(location.search); const lim = qs.has('limit') ? Number(qs.get('limit')) : undefined; const limit = Number.isFinite(lim) ? lim : undefined; MXD.renderProducts('#product-list', limit);
  });
  </script>

  <!-- SW -->
  <script> if ('serviceWorker' in navigator) { navigator.serviceWorker.register('/sw.js?v=2025-09-30-mlz1'); } </script>
</body>
</html>
```

---

## 3) Commit message (kèm palette)

```
feat(store): enforce one-row categories + brand palette theme

- Add /assets/css/mxd-theme.css (brand blue + accent orange, dark mode, components)
- Apply nav-strip gradient + chip brand styles to /store.html
- Keep only Quick-Nav (3 hubs: noi-bat/may-moc-xay-dung/thoi-trang)
- Kill-switch removes any injected category strips/grids
- Preserve GA4 before affiliate; SW unchanged
```
