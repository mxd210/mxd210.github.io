<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>C·ª≠a h√†ng MXD ‚Äì S·∫£n ph·∫©m ch·ªçn l·ªçc</title>
  <meta name="description" content="C√°c s·∫£n ph·∫©m x√¢y d·ª±ng ƒë∆∞·ª£c ch·ªçn l·ªçc t·ª´ MXD ‚Äì ƒë√∫ng nhu c·∫ßu, ƒë√°ng ƒë·ªìng ti·ªÅn.">
  <link rel="canonical" href="https://mxd210.github.io/store.html">
  <meta name="robots" content="index,follow">

  <!-- OG / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="C·ª≠a h√†ng MXD ‚Äì S·∫£n ph·∫©m ch·ªçn l·ªçc">
  <meta property="og:description" content="C√°c s·∫£n ph·∫©m x√¢y d·ª±ng ƒë∆∞·ª£c ch·ªçn l·ªçc t·ª´ MXD ‚Äì ƒë√∫ng nhu c·∫ßu, ƒë√°ng ƒë·ªìng ti·ªÅn.">
  <meta property="og:url" content="https://mxd210.github.io/store.html">
  <meta property="og:image" content="https://mxd210.github.io/assets/img/products/bay-rang-cua-banner.webp">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="C·ª≠a h√†ng MXD ‚Äì S·∫£n ph·∫©m ch·ªçn l·ªçc">
  <meta name="twitter:description" content="C√°c s·∫£n ph·∫©m x√¢y d·ª±ng ƒë∆∞·ª£c ch·ªçn l·ªçc t·ª´ MXD ‚Äì ƒë√∫ng nhu c·∫ßu, ƒë√°ng ƒë·ªìng ti·ªÅn.">
  <meta name="twitter:image" content="https://mxd210.github.io/assets/img/products/bay-rang-cua-banner.webp">

  <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#111111">

  <!-- CSS ch√≠nh c·ªßa site -->
  <link rel="stylesheet" href="/assets/site.css">

  <!-- Style ri√™ng cho store -->
  <style>
    body{font-family:system-ui,sans-serif;margin:0;background:#f8fafc;color:#0b1220}
    header,footer{padding:16px;background:#fff;border-bottom:1px solid #e5e7eb;text-align:center}
    footer{border-top:1px solid #e5e7eb;border-bottom:none;font-size:14px;color:#64748b}
    .container{max-width:1100px;margin:auto;padding:20px}
    h1{font-size:28px;margin:0 0 16px}
    .grid{display:grid;gap:20px;grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}
    .card{border:1px solid #e5e7eb;border-radius:12px;overflow:hidden;background:#fff;display:flex;flex-direction:column}
    .card img{width:100%;height:auto;aspect-ratio:16/9;object-fit:cover}
    .card .info{padding:14px;display:flex;flex-direction:column;gap:8px;flex:1}
    .card h2{font-size:18px;margin:0}
    .card p{font-size:14px;color:#64748b;margin:0 0 4px;flex:1}
    .price{font-weight:700;color:#0f172a}
    .rating{font-size:14px;color:#f59e0b}
    .btn{background:#1d4ed8;color:#fff;text-align:center;padding:10px 12px;border-radius:8px;text-decoration:none;font-weight:600}
    .btn:hover{background:#2563eb}

    /* N√∫t n·ªïi li√™n h·ªá */
    .float-box{position:fixed;right:16px;bottom:16px;display:flex;flex-direction:column;gap:10px;z-index:9999}
    .float-btn{display:flex;align-items:center;gap:8px;background:#fff;color:#111;text-decoration:none;border:1px solid #111;border-radius:999px;padding:10px 14px;box-shadow:0 8px 24px rgba(0,0,0,.12);font:600 14px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;transition:transform .15s ease}
    .float-btn:hover{transform:translateY(-1px)}
    .float-btn .icon{font-size:18px;line-height:1}
    @media (max-width:480px){.float-btn .label{display:none}}
  </style>

  <script src="/assets/analytics.js" defer></script>
</head>
<body>

  <header>
    <a href="/" style="text-decoration:none;font-weight:700;font-size:20px">‚Üê V·ªÅ trang ch·ªß</a>
    <h1>Danh s√°ch s·∫£n ph·∫©m</h1>
  </header>

  <main class="container">
    <div id="product-list" class="grid"><!-- S·∫£n ph·∫©m s·∫Ω ƒë∆∞·ª£c render ·ªü ƒë√¢y --></div>
  </main>

  <footer>
    ¬© <span id="year"></span> MXD ‚Äì Li√™n h·ªá: <a href="tel:+84338328898">0338 328 898</a>
  </footer>

  <!-- N√∫t n·ªïi li√™n h·ªá -->
  <div class="float-box" aria-label="Li√™n h·ªá nhanh MXD">
    <a class="float-btn" href="tel:+84338328898" aria-label="G·ªçi ƒëi·ªán cho MXD"><span class="icon">üìû</span><span class="label">G·ªçi MXD</span></a>
    <a class="float-btn" href="https://zalo.me/0338328898" target="_blank" rel="noopener" aria-label="Nh·∫Øn Zalo cho MXD"><span class="icon">üí¨</span><span class="label">Zalo</span></a>
    <a class="float-btn" href="https://m.me/mxd6686" target="_blank" rel="noopener" aria-label="Nh·∫Øn Messenger cho MXD"><span class="icon">üì®</span><span class="label">Messenger</span></a>
  </div>

  <!-- Affiliate (m·ªôt l·∫ßn, defer) -->
  <script src="/mxd-affiliate.js" defer></script>

  <!-- JS: nƒÉm hi·ªán t·∫°i + load products + JSON-LD + Service Worker -->
  <script>
    // NƒÉm hi·ªán t·∫°i
    document.getElementById('year').textContent = new Date().getFullYear();

    // Render danh s√°ch s·∫£n ph·∫©m
    fetch('/products.json')
      .then(r => r.json())
      .then(products => {
        const container = document.getElementById('product-list');
        container.innerHTML = '';
        products.forEach(p => {
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `
            <img src="${p.image}" alt="${p.name}" loading="lazy" decoding="async">
            <div class="info">
              <h2>${p.name}</h2>
              <p>${p.description || ''}</p>
              <div class="price">${p.price || ''}</div>
              <div class="rating">${p.rating ? '‚≠ê ' + p.rating : ''}</div>
              <a class="btn" href="${p.link}" target="_blank" rel="nofollow sponsored noopener noreferrer">Xem gi√°</a>
            </div>
          `;
          container.appendChild(card);
        });

        // G·ªçi l·∫°i affiliate scanner n·∫øu c√≥
        if (window.mxdAffiliate && typeof window.mxdAffiliate.scan === 'function') {
          window.mxdAffiliate.scan();
        }

        // JSON-LD ItemList cho SEO
        const ld = {
          "@context":"https://schema.org","@type":"ItemList",
          "itemListElement": products.map((p,i)=>({
            "@type":"ListItem","position":i+1,"name":p.name,"url":p.link
          }))
        };
        const s = document.createElement('script');
        s.type = 'application/ld+json';
        s.textContent = JSON.stringify(ld);
        document.head.appendChild(s);
      })
      .catch(err => {
        console.error('Kh√¥ng th·ªÉ t·∫£i s·∫£n ph·∫©m:', err);
        document.getElementById('product-list').innerHTML =
          '<p>Kh√¥ng th·ªÉ t·∫£i danh s√°ch s·∫£n ph·∫©m. Vui l√≤ng th·ª≠ l·∫°i sau.</p>';
      });

    // Service Worker: ƒëƒÉng k√Ω + auto reload khi c√≥ b·∫£n m·ªõi
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js', { scope: '/' }).catch(()=>{});
      navigator.serviceWorker.addEventListener('controllerchange', () => {
        if (!window.__swRld) { window.__swRld = true; location.reload(); }
      });
      navigator.serviceWorker.ready.then(reg => {
        if (reg.waiting) reg.waiting.postMessage('SKIP_WAITING');
      });
    }
  </script>

  <script src="/assets/js/floating-contact.js" defer></script>
</body>
</html>
