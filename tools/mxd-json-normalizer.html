<!-- REPLACE WHOLE FILE: /tools/mxd-json-normalizer.html -->
<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8"/>
  <title>MXD JSON Normalizer ‚Ä¢ Chu·∫©n ho√° + so√°t deeplink + SEO meta</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>

  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 16px;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #0b1020;
      color: #f5f5f5;
    }
    h1 {
      font-size: 20px;
      margin: 0 0 8px;
    }
    .subtitle {
      font-size: 13px;
      color: #aaa;
      margin-bottom: 16px;
    }
    .layout {
      display: grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: 12px;
    }
    @media (max-width: 900px) {
      .layout {
        grid-template-columns: 1fr;
      }
    }
    textarea {
      width: 100%;
      min-height: 260px;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #333;
      background: #050714;
      color: #f5f5f5;
      font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      resize: vertical;
      white-space: pre;
    }
    textarea:focus {
      outline: none;
      border-color: #ff4fa3;
      box-shadow: 0 0 0 1px #ff4fa3;
    }
    .panel-title {
      font-size: 13px;
      margin-bottom: 4px;
      color: #ddd;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
    }
    .hint {
      font-size: 11px;
      color: #888;
    }
    button {
      border: none;
      border-radius: 999px;
      padding: 8px 16px;
      font-size: 13px;
      cursor: pointer;
      background: #ff4fa3;
      color: #060716;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      box-shadow: 0 4px 14px rgba(255, 79, 163, 0.35);
    }
    button.secondary {
      background: #1f2435;
      color: #f5f5f5;
      box-shadow: none;
      border: 1px solid #333a52;
    }
    button:active {
      transform: translateY(1px);
      box-shadow: 0 2px 8px rgba(0,0,0,0.4);
    }
    .controls {
      margin: 12px 0;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }
    .log {
      margin-top: 8px;
      font-size: 12px;
      color: #aaa;
      min-height: 18px;
    }
    .badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 10px;
      background: #1a1f33;
      color: #ffb0dd;
      border: 1px solid #343c5c;
    }
    .badge span {
      font-size: 12px;
    }
    a {
      color: #ff9fd0;
    }
    .report-wrapper {
      margin-top: 10px;
    }
    .report-label {
      font-size: 12px;
      margin-bottom: 4px;
      color: #ccc;
    }
  </style>
</head>
<body>
  <h1>MXD JSON Normalizer</h1>
  <div class="subtitle">
    Chu·∫©n ho√° schema AFF + so√°t deeplink + sinh m√¥ t·∫£/SEO/tag cho <strong>mxd210</strong>.<br>
    ‚Ä¢ ƒê·ªïi <code>price_vnd ‚Üí price</code>, chu·∫©n ho√° <code>origin</code> + <code>origin_url</code><br>
    ‚Ä¢ T√°ch URL g·ªëc n·∫øu <code>origin/origin_url/deeplink</code> ƒëang l√† link isclix<br>
    ‚Ä¢ √âp deeplink v·ªÅ aff-base mxd210 (Shopee/Lazada/Tiki/TikTok)<br>
    ‚Ä¢ Sinh <code>short_desc</code>, <code>seo_title</code>, <code>seo_description</code>, <code>tags</code> n·∫øu thi·∫øu
  </div>

  <div class="controls">
    <span class="badge">
      <span>‚óè</span> aff-base mxd210 (AccessTrade)
    </span>
    <span class="hint">
      D√°n <code>affiliates.json</code> ho·∫∑c block s·∫£n ph·∫©m ‚Üí b·∫•m n√∫t ‚Üí copy output ‚Üí d√°n l·∫°i v√†o repo.
    </span>
  </div>

  <div class="layout">
    <div>
      <div class="panel-title">
        <span>Input JSON (c√≥ th·ªÉ l√† c·∫£ <code>affiliates.json</code>):</span>
        <div style="display:flex;gap:6px;align-items:center;">
          <button type="button" class="secondary" onclick="fillDemo()">D√°n v√≠ d·ª• demo</button>
        </div>
      </div>
      <textarea id="input" placeholder='D√°n n·ªôi dung affiliates.json ho·∫∑c block s·∫£n ph·∫©m v√†o ƒë√¢y...'></textarea>
    </div>

    <div>
      <div class="panel-title">
        <span>Output JSON (ƒë√£ chu·∫©n ho√°, s·∫°ch deeplink l·∫° & c√≥ meta):</span>
        <div style="display:flex;gap:6px;align-items:center;">
          <button type="button" class="secondary" onclick="copyOutput()">Copy output</button>
        </div>
      </div>
      <textarea id="output" readonly placeholder="K·∫øt qu·∫£ chu·∫©n ho√° s·∫Ω hi·ªán ·ªü ƒë√¢y..."></textarea>

      <div class="report-wrapper">
        <div class="report-label">Nh·∫≠t k√Ω ki·ªÉm tra & s·ª≠a deeplink / SEO:</div>
        <textarea id="report" readonly style="min-height:120px" placeholder="Log chi ti·∫øt theo t·ª´ng SKU s·∫Ω hi·ªán ·ªü ƒë√¢y (deeplink b·ªã s·ª≠a, b·ªã xo√°, t·ª± sinh l·∫°i, meta ƒë∆∞·ª£c sinh...)"></textarea>
      </div>
    </div>
  </div>

  <div class="controls">
    <button type="button" onclick="normalizeForMXD210()">
      ‚öôÔ∏è Chu·∫©n ho√° + so√°t deeplink + sinh meta cho mxd210
    </button>
  </div>

  <div id="log" class="log"></div>

  <script>
    // aff-base ch√≠nh th·ª©c c·ªßa mxd210 (AccessTrade)
    const AFF_BASE = {
      shopee: "https://go.isclix.com/deep_link/6803097511817356947/4751584435713464237?url=",
      lazada: "https://go.isclix.com/deep_link/6803097511817356947/5127144557053758578?url=",
      tiki:   "https://go.isclix.com/deep_link/6803097511817356947/4348614231480407268?url=",
      tiktok: "https://go.isclix.com/deep_link/6803097511817356947/6648523843406889655?url="
    };

    function ensureHttps(u) {
      if (!u) return "";
      let s = String(u).trim();
      if (!s) return "";
      if (!/^https?:\/\//i.test(s)) {
        s = "https://" + s.replace(/^\/+/, "");
      }
      return s;
    }

    function extractOriginFromDeeplink(dl) {
      if (!dl) return "";
      try {
        const url = new URL(ensureHttps(dl));
        const params = url.searchParams;
        const inner =
          params.get("url") ||
          params.get("u") ||
          params.get("redirect");
        return inner ? ensureHttps(inner) : "";
      } catch (e) {
        return "";
      }
    }

    function detectMerchantFromUrl(u) {
      if (!u) return "";
      try {
        const url = new URL(ensureHttps(u));
        const host = (url.hostname || "").toLowerCase();
        if (host.includes("shopee")) return "shopee";
        if (host.includes("lazada")) return "lazada";
        if (host.includes("tiki")) return "tiki";
        if (host.includes("tiktok") || host.includes("vt.tiktok")) return "tiktok";
      } catch (e) {}
      return "";
    }

    function slugify(str) {
      if (!str) return "";
      return str.toString()
        .normalize("NFD").replace(/[\u0300-\u036f]/g, "")
        .toLowerCase()
        .replace(/[^a-z0-9]+/g, "-")
        .replace(/(^-|-$)+/g, "");
    }

    function genShortDesc(item) {
      const name = item.name || item.sku || "S·∫£n ph·∫©m";
      const price = item.price;
      const merchant = (item.merchant || "").toLowerCase();
      const priceStr = Number.isFinite(+price)
        ? new Intl.NumberFormat("vi-VN").format(+price) + "‚Ç´"
        : "gi√° t·ªët";

      const brand = item.brand ? ` t·ª´ th∆∞∆°ng hi·ªáu ${item.brand}` : "";
      let s = `${name}${brand} ‚Äì l·ª±a ch·ªçn ph√π h·ª£p cho b·∫°n v·ªõi ${priceStr}.`;

      let san = "";
      if (merchant === "shopee") san = "Shopee";
      else if (merchant === "lazada") san = "Lazada";
      else if (merchant === "tiki") san = "Tiki";
      else if (merchant === "tiktok") san = "TikTok Shop";

      if (san) {
        s += ` ƒê·∫∑t mua online tr√™n ${san} qua MXD.`;
      } else {
        s += ` ƒê·∫∑t mua online d·ªÖ d√†ng qua MXD.`;
      }
      return s;
    }

    function genSeoTitle(item) {
      const name = item.name || item.sku || "S·∫£n ph·∫©m";
      const category = item.category ? ` | ${item.category}` : "";
      return `${name}${category} | MXD`;
    }

    function genSeoDesc(item) {
      const name = item.name || item.sku || "S·∫£n ph·∫©m";
      const short = item.short_desc || "";
      const merchant = (item.merchant || "").toLowerCase();
      const price = item.price;
      const priceStr = Number.isFinite(+price)
        ? new Intl.NumberFormat("vi-VN").format(+price) + "‚Ç´"
        : "";

      let san = "";
      if (merchant === "shopee") san = "Shopee";
      else if (merchant === "lazada") san = "Lazada";
      else if (merchant === "tiki") san = "Tiki";
      else if (merchant === "tiktok") san = "TikTok Shop";

      const parts = [`${name} do MXD ch·ªçn l·ªçc, ph√π h·ª£p nhu c·∫ßu s·ª≠ d·ª•ng h√†ng ng√†y.`];
      if (priceStr) parts.push(`Gi√° tham kh·∫£o kho·∫£ng ${priceStr}.`);
      if (san) parts.push(`ƒê·∫∑t mua tr√™n ${san} qua li√™n k·∫øt affiliate MXD.`);
      if (short) parts.push(short);
      return parts.join(" ");
    }

    function genTags(item) {
      const tags = new Set();
      const sku = item.sku || "";
      const cat = item.category || "";
      const merchant = item.merchant || "";
      const brand = item.brand || "";

      if (sku) {
        sku.toString().toLowerCase().split(/[^a-z0-9]+/i).forEach(t => {
          t = t.trim();
          if (t.length >= 3) tags.add(t);
        });
      }
      if (cat) tags.add(slugify(cat));
      if (merchant) tags.add(merchant.toString().toLowerCase());
      if (brand) tags.add(slugify(brand));

      // th√™m v√†i t·ª´ kho√° t·ª´ name
      if (item.name) {
        slugify(item.name).split("-").forEach(t => {
          if (t.length >= 3) tags.add(t);
        });
      }

      return Array.from(tags).slice(0, 10);
    }

    function normalizeForMXD210() {
      const inputEl  = document.getElementById("input");
      const outputEl = document.getElementById("output");
      const logEl    = document.getElementById("log");
      const reportEl = document.getElementById("report");

      let raw = (inputEl.value || "").trim();
      if (!raw) {
        logEl.textContent = "Ch∆∞a c√≥ d·ªØ li·ªáu ·ªü √¥ b√™n tr√°i.";
        return;
      }

      let data;
      let wrapped = false;

      // B∆∞·ªõc 1: th·ª≠ parse JSON th·∫≥ng
      try {
        let text = raw;
        if (!text.trim().startsWith("[") && !text.trim().startsWith("{")) {
          text = "[" + text + "]";
          wrapped = true;
        }
        data = JSON.parse(text);
      } catch (e1) {
        // B∆∞·ªõc 2: auto-fix l·ªói th∆∞·ªùng g·∫∑p (thi·∫øu d·∫•u ph·∫©y, d∆∞ d·∫•u ph·∫©y cu·ªëi‚Ä¶)
        try {
          let text = raw;
          if (!text.trim().startsWith("[")) {
            text = "[" + text + "]";
            wrapped = true;
          }
          // }{ -> },{
          text = text.replace(/}\s*{/g, "},{");
          // ,} ho·∫∑c ,] -> } ]
          text = text.replace(/,\s*([}\]])/g, "$1");
          data = JSON.parse(text);
          reportEl.value = "ƒê√£ t·ª± s·ª≠a 1 s·ªë l·ªói c√∫ ph√°p JSON th∆∞·ªùng g·∫∑p (th√™m d·∫•u ',' gi·ªØa c√°c ph·∫ßn t·ª≠ ho·∫∑c xo√° d·∫•u ',' th·ª´a tr∆∞·ªõc ]/}).\n\n" +
            (reportEl.value || "");
        } catch (e2) {
          logEl.textContent = "‚ùå L·ªói parse JSON: " + e2.message + " (c√≥ th·ªÉ thi·∫øu ho·∫∑c d∆∞ d·∫•u ph·∫©y).";
          reportEl.value =
`Tool kh√¥ng s·ª≠a ƒë∆∞·ª£c v√¨ JSON ƒëang l·ªói c√∫ ph√°p.

G·ª£i √Ω nhanh:
- M·ªü file b·∫±ng VS Code / Notepad++.
- T·ªõi g·∫ßn d√≤ng m√† th√¥ng b√°o l·ªói b√°o.
- Ki·ªÉm tra:
  ‚Ä¢ Gi·ªØa hai d·∫•u '}' v√† '{' c√≥ d·∫•u ph·∫©y ',' ·ªü gi·ªØa kh√¥ng.
  ‚Ä¢ C√≥ d·∫•u ',' ngay tr∆∞·ªõc ']' ho·∫∑c '}' th√¨ xo√° ƒëi.`;
          return;
        }
      }

      if (!Array.isArray(data)) {
        data = [data];
      }

      const nowIso = new Date().toISOString();
      const stats = {
        total: data.length,
        normalized: 0,
        priceFromVnd: 0,
        originFromOriginUrl: 0,
        originFromDeeplink: 0,
        originFromIsclix: 0,
        merchantDetected: 0,
        deeplinkRewritten: 0,
        deeplinkDropped: 0,
        deeplinkGenerated: 0,
        shortDescGenerated: 0,
        seoTitleGenerated: 0,
        seoDescGenerated: 0,
        tagsGenerated: 0,
        skuGenerated: 0,
        imageNormalized: 0
      };
      const reportLines = [];

      data.forEach((item, idx) => {
        if (!item || typeof item !== "object") return;
        let changed = false;

        // 0) ƒê·∫£m b·∫£o c√≥ sku
        if (!item.sku && item.name) {
          item.sku = slugify(item.name);
          stats.skuGenerated++;
          changed = true;
          reportLines.push(`#${idx+1}: thi·∫øu sku ‚Üí auto slug t·ª´ name: ${item.sku}`);
        }
        const sku = (item.sku || "").toString();
        const tag = sku || ("#" + (idx + 1));

        // 1) price_vnd -> price
        if (typeof item.price === "undefined" && typeof item.price_vnd !== "undefined") {
          if (typeof item.price_vnd === "string") {
            const digits = item.price_vnd.replace(/[^\d]/g, "");
            if (digits) {
              item.price = Number(digits);
              stats.priceFromVnd++;
              changed = true;
            }
          } else {
            item.price = item.price_vnd;
            stats.priceFromVnd++;
            changed = true;
          }
          delete item.price_vnd;
        } else if (typeof item.price === "string") {
          const digits = item.price.replace(/[^\d]/g, "");
          if (digits) {
            item.price = Number(digits);
            changed = true;
          }
        }

        // 2) origin / origin_url chu·∫©n ho√°
        let origin = item.origin || "";
        if (!origin && item.origin_url) {
          origin = ensureHttps(item.origin_url);
          stats.originFromOriginUrl++;
          changed = true;
        }

        // origin ƒëang l√† deeplink isclix -> t√°ch URL g·ªëc
        if (origin && origin.includes("go.isclix.com")) {
          const orig = extractOriginFromDeeplink(origin);
          if (orig) {
            origin = orig;
            stats.originFromIsclix++;
            changed = true;
            reportLines.push(`${tag}: origin ƒëang l√† deeplink isclix ‚Üí ƒë√£ t√°ch URL g·ªëc.`);
          }
        }

        // ch∆∞a c√≥ origin nh∆∞ng deeplink l√† isclix
        if (!origin && item.deeplink && item.deeplink.includes("go.isclix.com")) {
          const orig = extractOriginFromDeeplink(item.deeplink);
          if (orig) {
            origin = orig;
            stats.originFromDeeplink++;
            changed = true;
            reportLines.push(`${tag}: thi·∫øu origin, ƒë√£ l·∫•y URL g·ªëc t·ª´ deeplink.`);
          }
        }

        if (origin) {
          origin = ensureHttps(origin);
          if (item.origin !== origin) {
            item.origin = origin;
            changed = true;
          }
          if (item.origin_url !== origin) {
            item.origin_url = origin;
            changed = true;
          }
        }

        // 3) merchant
        let merchant = "";
        if (item.merchant) {
          merchant = String(item.merchant).toLowerCase().trim();
        }
        if (merchant === "shopee-kol" || merchant === "shopee_kol") {
          merchant = "shopee";
          item.merchant = merchant;
          changed = true;
          reportLines.push(`${tag}: merchant "${item.merchant}" ‚Üí chu·∫©n ho√° th√†nh "shopee".`);
        }

        if (!merchant) {
          const src = item.origin || item.origin_url || item.deeplink || "";
          const guessed = detectMerchantFromUrl(src);
          if (guessed) {
            merchant = guessed;
            item.merchant = merchant;
            stats.merchantDetected++;
            changed = true;
            reportLines.push(`${tag}: merchant tr·ªëng ‚Üí ƒëo√°n t·ª´ URL l√† "${merchant}".`);
          }
        } else if (item.merchant !== merchant) {
          // ƒë·ªìng b·ªô l·∫°i ch·ªØ th∆∞·ªùng
          item.merchant = merchant;
          changed = true;
        }

        // 4) image chu·∫©n: /assets/img/products/<sku>.webp
        if (item.image) {
          const fixed = String(item.image)
            .replace("/assets/img/product/", "/assets/img/products/");
          if (fixed !== item.image) {
            item.image = fixed;
            stats.imageNormalized++;
            changed = true;
            reportLines.push(`${tag}: image path ƒë√£ chu·∫©n ho√° v·ªÅ /assets/img/products/...`);
          }
        } else if (item.sku) {
          item.image = `/assets/img/products/${item.sku}.webp`;
          stats.imageNormalized++;
          changed = true;
          reportLines.push(`${tag}: thi·∫øu image ‚Üí set /assets/img/products/${item.sku}.webp`);
        }

        // 5) meta c∆° b·∫£n canonical
        if (!item.sub1 && item.sku) {
          item.sub1 = item.sku;
          changed = true;
        }

        // status: string canonical (active | draft | archived)
        if (typeof item.status === "boolean") {
          item.status = item.status ? "active" : "archived";
          changed = true;
        }
        if (item.status === undefined || item.status === null || item.status === "") {
          item.status = "active";
          changed = true;
        }

        if (typeof item.featured === "undefined") {
          item.featured = false;
          changed = true;
        }
        if (!item.updated_at) {
          item.updated_at = nowIso;
          changed = true;
        }
        if (typeof item.notes === "undefined") {
          item.notes = "";
          changed = true;
        }

        // 6) SEO / m√¥ t·∫£ / tags
        if (!item.short_desc) {
          item.short_desc = genShortDesc(item);
          stats.shortDescGenerated++;
          changed = true;
        }
        if (!item.seo_title) {
          item.seo_title = genSeoTitle(item);
          stats.seoTitleGenerated++;
          changed = true;
        }
        if (!item.seo_description) {
          item.seo_description = genSeoDesc(item);
          stats.seoDescGenerated++;
          changed = true;
        }
        if (!item.tags || !Array.isArray(item.tags) || !item.tags.length) {
          item.tags = genTags(item);
          stats.tagsGenerated++;
          changed = true;
        }

        // 7) Deeplink sanitizer (chu·∫©n aff-base mxd210)
        const base = merchant && AFF_BASE[merchant] ? AFF_BASE[merchant] : null;

        if (item.deeplink) {
          let dl = String(item.deeplink).trim();
          if (base && item.origin) {
            const safeOrigin = ensureHttps(item.origin);
            const newDl = base + encodeURIComponent(safeOrigin);
            if (!dl.startsWith(base)) {
              item.deeplink = newDl;
              stats.deeplinkRewritten++;
              changed = true;
              reportLines.push(`${tag}: deeplink KH√ÅC aff-base mxd210 (${merchant}) ‚Üí ƒë√£ rewrite.`);
            } else {
              const fromDl = extractOriginFromDeeplink(dl);
              if (fromDl && fromDl !== safeOrigin) {
                item.deeplink = newDl;
                stats.deeplinkRewritten++;
                changed = true;
                reportLines.push(`${tag}: deeplink ƒë√∫ng base nh∆∞ng URL g·ªëc kh√°c origin ‚Üí ƒë√£ ƒë·ªìng b·ªô l·∫°i.`);
              }
            }
          } else {
            delete item.deeplink;
            stats.deeplinkDropped++;
            changed = true;
            reportLines.push(`${tag}: deeplink b·ªã xo√° (kh√¥ng ƒë·ªß th√¥ng tin ƒë·ªÉ rewrite an to√†n).`);
          }
        } else {
          if (base && item.origin) {
            const safeOrigin = ensureHttps(item.origin);
            item.deeplink = base + encodeURIComponent(safeOrigin);
            stats.deeplinkGenerated++;
            changed = true;
            reportLines.push(`${tag}: kh√¥ng c√≥ deeplink ‚Üí ƒë√£ t·ª± sinh deeplink mxd210 (${merchant}).`);
          }
        }

        if (changed) {
          stats.normalized++;
        }
      });

      let outputData = data;
      if (wrapped && data.length === 1) {
        outputData = data[0];
      }

      outputEl.value = JSON.stringify(outputData, null, 2);

      const summary = [
        `‚úÖ ƒê√£ x·ª≠ l√Ω ${stats.total} s·∫£n ph·∫©m.`,
        `Chu·∫©n ho√°/ c·∫≠p nh·∫≠t: ${stats.normalized}`,
        `price_vnd ‚Üí price: ${stats.priceFromVnd}`,
        `origin/origin_url chu·∫©n ho√°: ${stats.originFromOriginUrl + stats.originFromDeeplink + stats.originFromIsclix}`,
        `merchant ƒëo√°n t·ª´ URL: ${stats.merchantDetected}`,
        `deeplink rewrite: ${stats.deeplinkRewritten}`,
        `deeplink xo√°: ${stats.deeplinkDropped}`,
        `deeplink sinh m·ªõi: ${stats.deeplinkGenerated}`,
        `short_desc sinh m·ªõi: ${stats.shortDescGenerated}`,
        `seo_title sinh m·ªõi: ${stats.seoTitleGenerated}`,
        `seo_description sinh m·ªõi: ${stats.seoDescGenerated}`,
        `tags sinh m·ªõi: ${stats.tagsGenerated}`,
        `SKU auto: ${stats.skuGenerated}`,
        `image chu·∫©n ho√°: ${stats.imageNormalized}`
      ].join(" | ");

      logEl.textContent = summary;
      reportEl.value = (reportLines.length
        ? reportLines.join("\n")
        : "Kh√¥ng c√≥ thay ƒë·ªïi ƒë√°ng ch√∫ √Ω v·ªÅ deeplink / merchant. Meta SEO ƒë√£ ƒë∆∞·ª£c sinh n·∫øu thi·∫øu."
      ) + "\n\n" + (reportEl.value || "");
    }

    function copyOutput() {
      const outputEl = document.getElementById("output");
      const logEl    = document.getElementById("log");
      const text = outputEl.value || "";

      if (!text.trim()) {
        logEl.textContent = "Ch∆∞a c√≥ g√¨ ƒë·ªÉ copy.";
        return;
      }

      if (!navigator.clipboard) {
        outputEl.select();
        document.execCommand("copy");
        logEl.textContent = "ƒê√£ copy (execCommand).";
        return;
      }

      navigator.clipboard.writeText(text)
        .then(() => {
          logEl.textContent = "üìã ƒê√£ copy output v√†o clipboard.";
        })
        .catch((err) => {
          logEl.textContent = "Kh√¥ng copy ƒë∆∞·ª£c: " + err.message;
        });
    }

    function fillDemo() {
      const inputEl = document.getElementById("input");
      inputEl.value = `[
  {
    "sku": "pijama-xinh",
    "name": "Pijama Xinh Tay D√†i Qu·∫ßn D√†i",
    "price_vnd": "57.000",
    "origin_url": "shopee.vn/Pijama-Xinh-Tay-Dai-Quan-Dai",
    "deeplink": "https://go.isclix.com/deep_link/6803097511817356947/4751584435713464237?url=https%3A%2F%2Fshopee.vn%2FPijama-Xinh-Tay-Dai-Quan-Dai",
    "image": "/assets/img/product/pijama-xinh.webp"
  },
  {
    "sku": "ao-croptop-ba-lo-nu-toptify",
    "name": "√Åo croptop ba l·ªó n·ªØ TOPTIFY",
    "price": "99.000",
    "origin": "https://shopee.vn/Ao-croptop-ba-lo-nu-TOPTIFY-...",
    "deeplink": "https://go.isclix.com/deep_link/6803097511817356947/4751584435713464237?url=https%3A%2F%2Fshopee.vn%2FAo-croptop-ba-lo-nu-TOPTIFY-...",
    "merchant": "shopee-kol",
    "brand": "TOPTIFY",
    "category": "Th·ªùi trang n·ªØ",
    "image": "/assets/img/products/ao-croptop-ba-lo-nu-toptify.webp"
  }
]`;
    }
  </script>
</body>
</html>
